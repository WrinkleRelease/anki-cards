<!-- Anki - Kanji Card - Glass Panes - r1.1 -->
<!-- github.com/WrinkleRelease -->

<div class="back">


    <div class="typed-answer">{{type:Reading}}</div>

    <!-- MARK: Meaning Section 
     -->
    <div class="meaning-container">
        <div class="section-1a">
            <div class="section-name">meaning</div>
            <div class="sub-container">
                <div class="meaning">{{Meaning}}</div>
                <div class="reading">{{Reading}}</div>
            </div>
            <div class="prompt">{{Kanji}}</div>
            <div class="components">{{Components}}</div>
        </div>
        <div class="section-1b">
            <div class="meaning-notes">{{Meaning Notes}}</div>
        </div>
    </div>

    <!-- MARK: Stroke Order 
     -->
    <div class="stroke-order-container">
        <div class="section-2a">
            <div class="section-name">stroke order</div>
        </div>
        <div class="section-2b">
            <div class="stroke-order-img">{{Stroke Order}}</div>
        </div>
    </div>

    <!-- MARK: Reading Section 
     -->
    <div class="reading-container">
        <div class="section-3a">
            <div class="section-name">reading</div>
            <div class="rdgs-table">
                <div class="rdgs-theader">
                    <div class="rdgs-theader-left">On'yomi</div>
                    <div class="rdgs-theader-right">Kun'yomi</div>
                </div>
                <div class="rdgs-tbody">
                    <div class="rdgs-tbody-left">{{On'yomi Reading}}</div>
                    <div class="rdgs-tbody-right">{{Kun'yomi Reading}}</div>
                </div>
            </div>
        </div>
        <div class="section-3b">
            <div class="reading-notes">{{Reading Notes}}</div>
        </div>
    </div>

    <!-- Tags -->
    <div id="tags-container"></div>

</div>


<!-- MARK: Javascript
     -->
<script>

    // -- TAG SEPARATOR -- //
    var tagsString = "{{Tags}}";

    // Split the tags by space
    var tagsArray = tagsString.split(" ");

    // Get the container where the tags will be displayed
    var container = document.getElementById("tags-container");

    // Loop through each tag, create a span, and assign it a class
    tagsArray.forEach(function (tag) {
        var tagElement = document.createElement("span");
        tagElement.className = "tag-box";
        tagElement.textContent = tag;
        container.appendChild(tagElement);
    });

    // -- READINGS SEPARATOR -- //
    function createReadingElements(readingString, containerId, className) {
        var readingsArray = readingString.split("„ÄÅ");
        var container = document.getElementById(containerId);

        readingsArray.forEach(function (reading) {
            var readingElement = document.createElement("span");
            readingElement.className = className;
            readingElement.textContent = reading;
            container.appendChild(readingElement);
        });
    }

    // Process On'yomi Readings
    var onYomiReadingString = "{{On'yomi Reading}}";
    createReadingElements(onYomiReadingString, "on-rdng-container", "on-rdng-box");

    // Process Kun'yomi Readings
    var kunYomiReadingString = "{{Kun'yomi Reading}}";
    createReadingElements(kunYomiReadingString, "kun-rdng-container", "kun-rdng-box");

</script>